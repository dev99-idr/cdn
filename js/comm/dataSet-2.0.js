void 0==Array.prototype.remove&&(Array.prototype.remove=function(t,e){var i=this.slice((e||t)+1||this.length);return this.length=t<0?this.length+t:t,this.push.apply(this,i)});var DataSet={};DataSet.DataSetStatus={NORMAL:"NORMAL",INSERT:"INSERT",UPDATE:"UPDATE",DELETE:"DELETE"},DataSet.DataType={},DataSet.DataSetRow={},(DataSet=function(t,e){this.log=alert,this._filter=null,this._rows=[],this._deleteRow=[],this._view=[],this._columns=new DataSet.DataSetColumns,this._pos=-1,this._binder=new DataSet.Bind(this),this.option={},this.isSetAllData=!1,void 0!==t&&(t instanceof Array&&"string"==typeof t[0]?(this._columns=new DataSet.DataSetColumns(t),void 0!==e&&this.setAllData(e)):t instanceof Array&&"object"==typeof t[0]&&this.setAllData(t))}).prototype.setOption=function(t){this.option=$.extend(this.option,t)},DataSet.prototype.setPosition=function(t,e,i){this.option,e=void 0!==e&&e,(this._pos!=t||e)&&(this._pos=t,this._binder.posDrow(t,void 0,void 0,i))},DataSet.prototype.getPosition=function(){return this._pos},DataSet.prototype.setAllData=function(t,e){if(new Date().getTime(),void 0===e&&(e=-1),this.clear(e<0),null!=t){this.isSetAllData=!0;for(var i=0;i<t.length;i++)this.add(t[i]),this._rows[i].apply();this.isSetAllData=!1,this._filtering(!0),this.setPosition(e,!0)}},DataSet.prototype.add=DataSet.prototype.addRow=function(t){var e=this._view.length;return this.insert(e,t||{}),e},DataSet.prototype.insert=DataSet.prototype.insertRow=function(t,e){var i,o=void 0!==e?new DataSet.DataSetRow(e,this):new DataSet.DataSetRow(this);if(o.setStatus("INSERT"),t>this._view.length)return log("범위를 초과하였음."),-1;if(t<this._view.length){this._view.splice(t,0,o),i=this._view[t-1];for(var a=-1,n=0;n<this._rows.length;n++)if(i==this._rows[n]){a=n;break}this._rows.splice(a+1,0,o)}else this._view.push(o),this._rows.push(o);return this.isSetAllData||(this._binder.posAdd(t,o,i),this.setPosition(t,!0)),t},DataSet.prototype.remove=DataSet.prototype.deleteRow=function(t,e){var i=null,o=-1;if(e=void 0===e||e,t instanceof DataSet.DataSetRow){i=t;for(var a=0;a<this._view.length;a++)if(this._view[a]==i){t=a;break}}else i=this._view[t];if(null!=i&&!(i instanceof DataSet.GroupingRow)){for(var a=0;a<this._rows.length;a++)if(this._rows[a]==i){o=a;break}"INSERT"!=i.getStatus()&&(i.remove(),this._deleteRow.push(i)),this._rows.remove(o,o),this._view.remove(t,t),!(o<0)&&(this._binder.posDel(t,i),this._pos=this._pos<1?0:t,e&&this.setPosition(this._pos-1,!0))}},DataSet.prototype.clear=DataSet.prototype.clearData=function(t){t=void 0===t||t,this._filter=null,this._rows=[],this._deleteRow=[],this._view=[],t&&(this._pos=-1,this._binder.drow())},DataSet.prototype.set=DataSet.prototype.setColumn=function(t,e,i,o){if(this._columns.isColumn(e)){var a=i!=this.view()[t].get(e);try{this.view()[t].set(e,i),a&&this._binder.posDrow(t,e,i,o)}catch(n){}}},DataSet.prototype.move=function(t,e){var i=this.view()[t],o=this.view()[e],a=null,n=null,r=this._rows,s=r.length-1;if(-1!=e&&!(e>s)){for(var u=0;u<r.length&&null!=i&&null!=o;u++)i==r[u]?a=u:o==r[u]&&(n=u);this._move(this.view(),t,e),this._move(r,a,n),this._binder.drow(),this.setPosition(e,!0)}},DataSet.prototype._move=function(t,e,i){var o=t[e];t[e]=t[i],t[i]=o},DataSet.prototype.get=DataSet.prototype.getColumn=function(t,e){if(void 0===t||t<0||t>=this.view().length)throw"잘못된 Index입니다.";if(void 0===e)return this.view()[t].get();if(!this._columns.isColumn(e))throw"존재하지 않은 컬럽"+e+"입니다.";return this.view()[t].get(e)},DataSet.prototype.getStatus=function(t){if(void 0===t||t<0||t>=this.view().length)throw"잘못된 Index입니다.";return this.view()[t].getStatus()},DataSet.prototype.setStatus=function(t,e){this.view()[t]._rowStatus=e},DataSet.prototype.isUpdate=function(){for(var t=0;t<this._rows.length;t++)if("NORMAL"!=this._rows[t].getStatus())return!0;return this._deleteRow.length>0},DataSet.prototype.clone=function(t){if(void 0===t||t<0||t>=this.view().length)throw"잘못된 Index입니다.";return"undefined"==typeof key?this.view()[t].clone():null},DataSet.prototype.getOrg=function(t,e){if(void 0===e)return this.view()[t].getOrg();if(!this._columns.isColumn(e))throw"존재하지 않은 컬럽입니다.";return this.view()[t].getOrg(e)},DataSet.prototype.getAll=function(){for(var t=[],e=0;e<this._rows.length;e++)t.push(DataSet.Util.objectClone(this._rows[e].get()));return t},DataSet.prototype.getViewAll=function(t){for(var e=[],i=0;i<this._view.length;i++){var o=DataSet.Util.objectClone(this._view[i].get());t&&(o._dataSetRow=this._view[i]),e.push(o)}return e},DataSet.prototype.getOrgAll=function(){for(var t=[],e=0;e<this._rows.length;e++)t.push(DataSet.Util.objectClone(this._rows[e].getOrg()));for(var e=0;e<this._deleteRow.length;e++)t.push(DataSet.Util.objectClone(this._deleteRow[e].getOrg()));return t},DataSet.prototype.getAllData=function(t){var e=[];return function(i){if(void 0===t||""==t||"N"==t)for(var o=0;o<i._rows.length;o++){var a=DataSet.Util.objectClone(i._rows[o].getCurrentData());a.rowStatus="NORMAL",e.push(a)}else if("U"==t.toUpperCase()||"A"==t.toUpperCase()){for(var o=0;o<i._deleteRow.length;o++){var a=DataSet.Util.objectClone(i._deleteRow[o].getOrg());a.rowStatus="DELETE",e.push(a)}for(var o=0;o<i._rows.length;o++)if("NORMAL"!=i._rows[o].getStatus()||"U"!=t){var a=DataSet.Util.objectClone(i._rows[o].getCurrentData());a.rowStatus=i._rows[o].getStatus(),"UPDATE"==a.rowStatus&&(a.jsOrignRowData=DataSet.Util.objectClone(i._rows[o].getOrg())),e.push(a)}}}(this),e},DataSet.prototype.saveAs=function(t,e,i){var o=this.getAll(),e=void 0===e?"noname":e,a=this._columns.getColumns();if(null==a){var n=0,r=this._rows[0].get();for(var s in a=[],r)a[n++]=s}if(void 0===t||"excel"==t){for(var u="",l="",h=0;h<a.length;h++){var p=a[h];p=(p=void 0===p?"":p).indexOf(",")>0?'"'+p+'"':p,h>0&&(l+=","),l+=p}u+=l+"\r\n";for(var n=0;n<o.length;n++){l="";for(var h=0;h<a.length;h++){var p=a[h],c=o[n][p];"string"==typeof(c=void 0===c?"":c)&&(c=c.indexOf(",")>0?'"'+c+'"':c),h>0&&(l+=","),l+=c}u+=l+"\r\n"}saveAsCSV(u,e)}},DataSet.prototype.reset=function(){this._deleteRow.length>0&&(this._rows=this._rows.concat(this._deleteRow),this._deleteRow=[]);for(var t=this._rows.length-1;t>=0;t--)"INSERT"==this._rows[t].getStatus()?this._rows.remove(t,t):"UPDATE"==this._rows[t].getStatus()&&this._rows[t].reset();this._filtering(!0)},DataSet.prototype.filter=function(t){this._filter=void 0===t||""==t?null:t,this._filtering()},DataSet.prototype._filtering=function(t){t=void 0!==t&&t;var e=this._pos<0?null:this._view[this._pos];this._view=[];var i=null;if(null==this._filter)for(var o=0;o<this._rows.length;o++)this._view.push(this._rows[o]);else if("string"==typeof this._filter)for(var a=this._stringFiltering(this._filter),o=0;o<this._rows.length;o++){i=this._rows[o];try{a(i)&&this._view.push(i)}catch(n){throw this.filter(null),n}}else for(var o=0;o<this._rows.length;o++)i=this._rows[o],this._filter(i)&&this._view.push(i);null==e?this._pos=-1:this._pos=this._view.indexOf(e),this._binder.drow(t)},DataSet.prototype._stringFiltering=function(t){for(var e=t,i=[],o=[],a=e.match(/"[^"]*"/g),n=0;null!=a&&n<a.length;n++){var r="#"+i.length;i.push(a[n]),o.push(a[n].length),e=e.replace(a[n],r)}a=e.match(/'[^']*'/g);for(var n=0;null!=a&&n<a.length;n++){var r="#"+i.length;i.push(a[n]),o.push(a[n].length-2),e=e.replace(a[n],r)}for(var s=e.match(/[^()+\-~!*\/%=<>&|?:()\[\]]*/g),u=e.match(/[()+\-~!*\/%=<>&|?:()\[\]]/g),l=-1,h=0,n=0;n<s.length;n++){var p=s[n];null==p.match(/[^ ]/g)&&p.length>0||(""==(p=p.trim())?s[n]=u[++l]:'"'!=p.substr(0,1)&&"'"!=p.substr(0,1)?"null"==p||0==p.indexOf("#")?(s[n]=p,h+=1):null!=p.match(/[^\d]/)?s[n]="String(dataSetRow.get('"+p+"')).substring(0,"+o[h]+")":s[n]=p:s[n]=p)}e=s.join("");for(var n=i.length-1;n>=0;n--)e=e.replace("#"+n,i[n]);return Function("dataSetRow","return ("+e+");")},DataSet.prototype._stringFind=function(t){for(var e=t,i=[],o=e.match(/"[^"]*"/g),a=0;null!=o&&a<o.length;a++){var n="#"+i.length;i.push(o[a]),e=e.replace(o[a],n)}o=e.match(/'[^']*'/g);for(var a=0;null!=o&&a<o.length;a++){var n="#"+i.length;i.push(o[a]),e=e.replace(o[a],n)}for(var r=e.match(/[^()+\-~!*\/%=<>&|?:()\[\]]*/g),s=e.match(/[()+\-~!*\/%=<>&|?:()\[\]]/g),u=-1,l=0,a=0;a<r.length;a++){var h=r[a];null==h.match(/[^ ]/g)&&h.length>0||(""==(h=h.trim())?r[a]=s[++u]:'"'!=h.substr(0,1)&&"'"!=h.substr(0,1)?"null"==h||0==h.indexOf("#")?(r[a]=h,l+=1):null!=h.match(/[^\d]/)?r[a]="dataSetRow.get('"+h+"')":r[a]=h:r[a]=h)}e=r.join("");for(var a=i.length-1;a>=0;a--)e=e.replace("#"+a,i[a]);return Function("dataSetRow","return ("+e+");")},DataSet.prototype.view=function(){return this._view},DataSet.prototype.size=function(){return this._view.length},DataSet.prototype.apply=DataSet.prototype.applyChange=function(t){var e=this.getPosition();this._deleteRow=[],this._view=[],t=void 0!==t;for(var i=0;i<this._rows.length;i++)this._rows[i].apply();this._filtering(),t?this.setPosition(-1,!0):this.setPosition(e,!0)},DataSet.prototype.find=function(t,e){for(var i=0;i<this.view().length;i++)if(this.view()[i].get(t)==e)return i;return -1},DataSet.prototype.findExpr=function(t,e){var i=this._stringFind(t),o=0;o=void 0===e?0:e;for(var a=o;a<this._rows.length;a++){tempRow=this._rows[a];try{if(i(tempRow))return a}catch(n){}}return -1},DataSet.prototype.findRow=function(t,e){for(var i=0;i<this.view().length;i++)if(this.view()[i].get(t)==e)return this.view()[i]},DataSet.prototype.dataSetRowTofind=function(t){return this._view.indexOf(t)},DataSet.prototype.sort=function(t,e,i){if("string"==typeof t)this._view.sort(function(i,o){var a=i.get(t).toLowerCase(),n=o.get(t).toLowerCase();return e?!(a<n):a<n});else if(t instanceof Object){var o,a=t,n=this._view,r=[],s=function t(e,i,a){var r="";return o={key:i,item:e,list:n},r=a instanceof Function?a.call(o):e[i]};for(var u in a)r[a[u].seq]={key:u,order:a[u].orderBy,formatter:a[u].formatter};var l=0,h=r.length,p=void 0,c=void 0;n.sort(function(t,e){for(l=0;l<h;l++){if(p=s(t.get(),r[l].key,r[l].formatter),c=s(e.get(),r[l].key,r[l].formatter),(void 0===p?"undefined":_typeof(p))!==(void 0===c?"undefined":_typeof(c))&&(p=""+p,c=""+c),p<c)return"asc"===r[l].order?-1:1;if(p>c)return"asc"===r[l].order?1:-1}}),this._view=n}this._binder.sort(this._view)},DataSet.prototype.bind=function(t,e){this._binder.add(t,e)},DataSet.prototype.getColumns=function(){return this._columns.getColumns()},DataSet.prototype.setColumns=function(t){this._columns=new DataSet.DataSetColumns(t)},DataSet.prototype.unBind=function(t){this._binder.remove(t)},DataSet.prototype.saveRow=function(){this._binder.saveRows()},DataSet.prototype.getGroupingList=function(t){return this.view()[t].getGroupingList()},DataSet.prototype.getGroupingBy=function(t){return this.view()[t].getGroupingBy()},DataSet.prototype.isGrouping=function(t){return this.view()[t].isGrouping()},DataSet.prototype.setModified=function(t,e){this.view()[t].setModified(e)},DataSet.prototype.isDisableSelection=function(t){return this.view()[t].isDisableSelection()},DataSet.prototype.isSelected=function(t){return this.view()[t].isSelected()},DataSet.prototype.removeAtSelectedRows=function(){var t=this,e=t.getSelectedRows();if(e.sort(function(t,e){return e-t}).forEach(function(e){t.remove(e,!1)}),!(e.length<1)){var i=e[e.length-1];i=this.size()-1<i?i-1:i,this.setPosition(i-1,!0)}},DataSet.prototype.setSelected=function(t,e){this.view()[t].setSelected(e)},DataSet.prototype.getSelectedRows=function(){for(var t=[],e=0,i=this._view.length;e<i;e++)this.isSelected(e)&&t.push(e);return t},DataSet.prototype.createGroupingData=function(t,e){for(var i=0,o=this._view.length,a=[],n=0,r=t.map(function(t){return{key:t,compareString:"",grouping:!1,list:[]}}),s=0,u=r.length,l=void 0,h=[],p=void 0;i<o+1;i++){for(s=0,l="",h=[];s<u;s++){if(this._view[i]&&(l+="$|$"+this._view[i].get(r[s].key)),n>0&&l!=r[s].compareString){for(var c={keys:[],labels:[],list:r[s].list},f=0;f<s+1;f++)c.keys.push(r[f].key),c.labels.push(this._view[i-1].get(r[f].key));h.push(c),r[s].list=[]}var g=this._view[i];r[s].list.push(g),r[s].compareString=l}for(p=h.length;p--;)a.push(new DataSet.GroupingRow({__isGrouping:!0,__groupingList:h[p].list,__groupingBy:{keys:h[p].keys,labels:h[p].labels}},this));this._view[i]&&(this._view[i].isSelected()&&e.push(i),a.push(this._view[i]),n++)}this._view=a},DataSet.prototype.clearGroupingData=function(){for(var t=this._view.length-1;t>=0;t--)this._view[t]instanceof DataSet.GroupingRow&&this._view.remove(t)},DataSet.DataSetRow=function(t,e){if(this._data={},this._dataSet=null,this._orgData=null,this._isGrouping=!1,this._isModified=!0,this._isDisableSelection=!1,this._isSelected=!1,this._rowStatus="NORMAL",void 0!==t){if(t instanceof DataSet)this._dataSet=t;else{for(var i in rows=DataSet.Util.objectClone(t)){var o=rows[i];if("__isGrouping"==i||"__modified__"==i||"__disable_selection__"==i||"__selected__"==i){"__isGrouping"==i?this._isGrouping=o:"__modified__"==i?this._isModified=o:"__disable_selection__"==i?this._isDisableSelection=o:"__selected__"==i&&(this._isSelected=o),delete rows[i];continue}null==o&&(rows[i]="")}this._data=rows,void 0!==e&&(this._dataSet=e)}}},DataSet.DataSetRow.prototype.set=function(t,e){var i=this._dataSet._columns,o=i.getColumn(t);if(i.isColumn(t)){if(e!=this._data[t]){if(e!=this._data[t]&&null==this._orgData&&(this._orgData=DataSet.Util.objectClone(this._data)),this._data[t]=e,o.status)this.setStatus("UPDATE");else{null!=this._orgData&&(this._orgData[t]=e);return}this.equals()&&(this._orgData=null,this.setStatus("NORMAL"))}}},DataSet.DataSetRow.prototype.equals=function(){if(null==this._orgData)return!0;for(var t in this._data)if(this._data[t]!=this._orgData[t])return!1;return!0},DataSet.DataSetRow.prototype.setStatus=function(t){"INSERT"!=this._rowStatus&&(this._rowStatus=t)},DataSet.DataSetRow.prototype.getStatus=function(){return this._rowStatus},DataSet.DataSetRow.prototype.getDataSet=function(){return this._dataSet},DataSet.DataSetRow.prototype.get=function(t){return void 0===t?this._getColToData(this._data):this._dataSet._columns.isColumn(t)?void 0===this._data[t]?"":this._data[t]:void 0},DataSet.DataSetRow.prototype.getCurrentData=function(){if("undefined"==typeof key)return this._getColToData(this._data,!0)},DataSet.DataSetRow.prototype._getColToData=function(t,e){e=e||!1;var i=this._dataSet._columns.getColumns(),o={};if(null==i)return t;for(var a=null,n=0;n<i.length;n++)a=i[n].key,e&&void 0===t[a]||(o[a]=void 0===t[a]||null==t[a]?"":t[a]);return o},DataSet.DataSetRow.prototype.clone=function(){var t=this._getColToData(this._data);return DataSet.Util.objectClone(t)},DataSet.DataSetRow.prototype.getOrg=function(t){if(void 0===t){var e=null==this._orgData?this._data:this._orgData;return this._getColToData(e)}return null==this._orgData?this._data[t]:this._orgData[t]},DataSet.DataSetRow.prototype.remove=function(){this._rowStatus="DELETE"},DataSet.DataSetRow.prototype.apply=function(){this._rowStatus="NORMAL",this._orgData=null},DataSet.DataSetRow.prototype.reset=function(){"INSERT"!=this._rowStatus&&(this._rowStatus="NORMAL",this._data=this.getOrg(),this._orgData=null)},DataSet.DataSetRow.prototype.isDisableSelection=function(){return this._isDisableSelection},DataSet.DataSetRow.prototype.isGrouping=function(){return this._isGrouping},DataSet.DataSetRow.prototype.setModified=function(t){this._isModified=t},DataSet.DataSetRow.prototype.isSelected=function(){return this.__selected__},DataSet.DataSetRow.prototype.setSelected=function(t){this.__selected__=t},DataSet.GroupingRow=function(t,e){this._dataList={},this._dataSet=null,this._isGrouping=!0,this._isModified=!1,this._isDisableSelection=!0,this._isSelected=!1,this._rowStatus="GROUP",void 0!==t&&(t instanceof DataSet?this._dataSet=t:(this._dataList=t,void 0!==e&&(this._dataSet=e)))},DataSet.GroupingRow.prototype.set=function(t,e){throw"Grouping Row는 변경할 수 없습니다."},DataSet.GroupingRow.prototype.equals=function(){return!0},DataSet.GroupingRow.prototype.setStatus=function(t){},DataSet.GroupingRow.prototype.getStatus=function(){return this._rowStatus},DataSet.GroupingRow.prototype.getDataSet=function(){return this._dataSet},DataSet.GroupingRow.prototype.get=function(t){return void 0===t?this._getColToData(this._dataList):this._dataSet._columns.isColumn(t)?null:void 0},DataSet.GroupingRow.prototype.getCurrentData=function(){return this._getColToData(this.get(),!0)},DataSet.GroupingRow.prototype._getColToData=function(t,e){e=e||!1;var i=this._dataSet._columns.getColumns(),o={};if(null==i)return t;for(var a=null,n=0;n<i.length;n++)a=i[n].key,e&&void 0===t[a]||(o[a]=void 0===t[a]||null==t[a]?"":t[a]);return o},DataSet.GroupingRow.prototype.clone=function(){var t=this._getColToData(this.get());return DataSet.Util.objectClone(t)},DataSet.GroupingRow.prototype.getOrg=function(t){},DataSet.GroupingRow.prototype.remove=function(){},DataSet.GroupingRow.prototype.apply=function(){},DataSet.GroupingRow.prototype.reset=function(){},DataSet.GroupingRow.prototype.setModified=function(t){},DataSet.GroupingRow.prototype.isDisableSelection=function(){return this._isDisableSelection},DataSet.GroupingRow.prototype.getGroupingList=function(t){for(var e=[],i=0;i<this._dataList.__groupingList.length;i++)e.push(this._dataList.__groupingList[i].get());return e},DataSet.GroupingRow.prototype.getGroupingBy=function(t){return this._dataList.__groupingBy},DataSet.GroupingRow.prototype.isGrouping=function(){return this._isGrouping},DataSet.GroupingRow.prototype.isSelected=function(){return this.__selected__},DataSet.GroupingRow.prototype.setSelected=function(t){throw"Grouping Row는 선택할 수 없습니다."},DataSet.DataSetColumns=function(t){this._columns=null,this.setColumns(t)},DataSet.DataSetColumns.prototype={setColumns:function(t){if(void 0===t)return this._columns=null;this._columns=[];for(var e=0;e<t.length;e++){for(var i=t[e].split(":"),o={key:i[0],type:"string",len:-1,status:!0},a=1;a<i.length;a++){var n=i[a];if(n.startsWith("string")||n.startsWith("number")){var r=n.match(/[(]([^)]+)[)]/);r=r?r[1]:-1,o.type=n.match(/\w+/)[0],o.len=r}else"nostatus"==n&&(o.status=!1)}this._columns.push(o)}},getColumns:function(){return this._columns},isColumn:function(t){return null==this._columns||!!this._columns.filter(function(e){return e.key==t}).length},getColumn:function(t){if(null!=this._columns)return this._columns.filter(function(e){return e.key==t})[0]}},DataSet.Util={},DataSet.Util.objectClone=function(t){var e={},i=null,o=null;for(o in t)null==(i=t[o])?e[o]=i:void 0===i.tagName?e[o]=i:"object"==typeof i?e[o]=this.objectClone(i):e[o]=i;return e},DataSet.Util.addEvent=function(t,e,i){DataSet.Util.removeEvent(t,e,i),t.addEventListener?t.addEventListener(e,i):t.attachEvent&&t.attachEvent("on"+e,i)},DataSet.Util.removeEvent=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i):t.detachEvent&&t.detachEvent("on"+e,i)};var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){try{"use strict";var e=t.document,i=t.URL||t.webkitURL||t,o=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a=!t.externalHost&&"download"in o,n=t.webkitRequestFileSystem,r=t.requestFileSystem||n||t.mozRequestFileSystem,s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",l=0,h=[],p=function(){for(var t=h.length;t--;){var e=h[t];"string"==typeof e?i.revokeObjectURL(e):e.remove()}h.length=0},c=function(t,e,i){for(var o=(e=[].concat(e)).length;o--;){var a=t["on"+e[o]];if("function"==typeof a)try{a.call(t,i||t)}catch(n){s(n)}}},f=function(i,s){var p,f,g,v=this,S=i.type,w=!1,d=function(){var e=(t.URL||t.webkitURL||t).createObjectURL(i);return h.push(e),e},D=function(){c(v,"writestart progress write writeend".split(" "))},y=function(){(w||!p)&&(p=d(i)),f?f.location.href=p:window.open(p,"_blank"),v.readyState=v.DONE,D()},m=function(t){return function(){if(v.readyState!==v.DONE)return t.apply(this,arguments)}},R={create:!0,exclusive:!1};if(v.readyState=v.INIT,s||(s="download"),a){p=d(i),(o=(e=t.document).createElementNS("http://www.w3.org/1999/xhtml","a")).href=p,o.download=s;var b=e.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(b),v.readyState=v.DONE,D();return}if(t.chrome&&S&&S!==u&&(i=(g=i.slice||i.webkitSlice).call(i,0,i.size,u),w=!0),n&&"download"!==s&&(s+=".download"),(S===u||n)&&(f=t),!r){y();return}l+=i.size,r(t.TEMPORARY,l,m(function(t){t.root.getDirectory("saved",R,m(function(t){var e=function(){t.getFile(s,R,m(function(t){t.createWriter(m(function(e){e.onwriteend=function(e){f.location.href=t.toURL(),h.push(t),v.readyState=v.DONE,c(v,"writeend",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach(function(t){e["on"+t]=v["on"+t]}),e.write(i),v.abort=function(){e.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),y)}),y)};t.getFile(s,{create:!1},m(function(t){t.remove(),e()}),m(function(t){t.code===t.NOT_FOUND_ERR?e():y()}))}),y)}),y)},g=f.prototype,v=function(t,e){return new f(t,e)};g.abort=function(){var t=this;t.readyState=t.DONE,c(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,t.addEventListener("unload",p,!1)}catch(S){}return v}(this.self||this.window||this.content);function saveAsCSV(t,e){var i=window.Blob;try{saveAs(new i([t],{type:"text/plain;charset=euc-kr"}),e+".csv")}catch(o){var a=$("<iframe>");$("body").append(a);var n=a[0].document.open("text/csv","replace");n.charset="ms949",n.write(t),n.close(),n.focus(),n.execCommand("SaveAs",!0,e+".csv")}}function dataSetCopy(t,e){e.setAllData(t.getAllData())}"undefined"!=typeof module&&(module.exports=saveAs);